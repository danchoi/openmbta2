<!DOCTYPE html>
<html>
  <head>
    <title>MBTA Trip</title>

    <style>
html { height: 100% }
body { height: 100%; margin: 0; padding: 0 }
#map_canvas { height: 100% }

    </style>


<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true">
</script>

<script>

var trips = {{{trips}}};
var shapes = {{{shapes}}};

var region = {{{region}}};

function test(obj) {
  for(var prop in obj) {
    if(obj.hasOwnProperty(prop))
       var shape_id = prop;
       console.log("shape_id " + shape_id);
       console.log(obj[prop]);
  }
};



function initialize() {

  var latlng = new google.maps.LatLng(region.center[1], region.center[0]);

  var myOptions = {
    zoom: 12,
    center: latlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

  var polyline = [];
  var line = shapes['010017'];
  for (var i = 0; i < line.length; i++) {
    var lat = line[i][1]
    var lng = line[i][0];
    polyline.push( new google.maps.LatLng(lat, lng) );

  };

var tripPath = new google.maps.Polyline({
    path: polyline,
    strokeColor: "#FF0000",
    strokeOpacity: 1.0,
    strokeWeight: 2
  });

  tripPath.setMap(map);

}

</script>

  </head>
  <body onload="initialize()">
    
    <div id="map_canvas" style="width:100%;height:80%"></div>

  </body>
</html>
